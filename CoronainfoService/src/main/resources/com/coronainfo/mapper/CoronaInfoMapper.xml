<?xml version = "1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd.mybatis-3-mapper.dtd">
<mapper namespace = "com.coronainfo.mapper.CoronaInfoMapper">
    <insert id ="insertCoronaInfo">
        INSERT INTO corona_info (accExamCnt, accExamCompCnt, careCnt, clearCnt, deathCnt, decideCnt, examCnt, resultNegCnt, stateTime)
        VALUES(#{accExamCnt}, #{accExamCompCnt}, #{careCnt}, #{clearCnt}, #{deathCnt}, #{decideCnt}, #{examCnt}, #{resultNegCnt}, #{stateTime});
    </insert>
    <select id ="selectCoronaInfoByDate" resultType = "com.coronainfo.vo.CoronaInfoVO">
        select * from corona_info where stateTime>=str_to_date(#{date}, "%Y-%m-%d") limit 1;
    </select>
    <insert id = "insertCoronaSido">
        INSERT INTO corona_sido (deathCnt, defCnt, gubun, incDec, isolClearCnt, createDt, isolIngCnt, localOccCnt, overFlowCnt)
        VALUES(#{deathCnt}, #{defCnt}, #{gubun}, #{incDec}, #{isolClearCnt}, #{createDt}, #{isolIngCnt}, #{localOccCnt}, #{overFlowCnt});
    </insert>
    <select id = "selectCoronaSidoByDate" resultType = "com.coronainfo.vo.CoronaSidoVO">
         select * from corona_sido where createDt>=str_to_date(#{date}, "%Y-%m-%d") limit 1;
    </select>
</mapper>